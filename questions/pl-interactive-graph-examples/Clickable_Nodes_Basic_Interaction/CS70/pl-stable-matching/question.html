<pl-question-panel>
  <p>
    This question will walk you through the stable matching algorithm.  Once you finish all the questions on the page, press the "Save and Grade" button.  If your answers are correct the algorithm will progress onto the next day, and you will unlock the next set of questions.  When you reach the end, you will be prompted to generate a new variant.
  </p>
  <p>
     Additionally, the table below is interactive!  You can click on entries in the Job's preference list to cross them off as you go along.  This should prevent you from needing pen-and-paper during practice.

  </p>
<hr><br>
  <h3>
    Consider the following set of preference lists:
  </h3>
  <br>

<style>
table, th  {
  border: 1px solid black;
}
table {
margin-right:25px;
float:left;
}
th.lhs {
  width:60px;
}
th.rhs {
  width: 200px;
}
td[crossed]{
 text-decoration: line-through;
text-decoration-thickness: 0.2rem;
text-decoration-color: red;
}

td, th{
text-align: center;
}

th {
  padding: 10px;
}

</style>

<table>
  <tr>
    <th class="lhs">Jobs</th>
    <th class="rhs" colspan="7">Candidates</th>    
  </tr>
{{#params.jobsrender}}
  <tr>
    <td>{{name}}</td>
    {{#preffirst}}
    <td onclick='this.toggleAttribute("crossed")' class={{pref_name}}>{{pref_name}}</td>
    {{/preffirst}}
    {{#pref}}
    <td>></td>
    <td onclick='this.toggleAttribute("crossed")' class={{pref_name}}>{{pref_name}}</td>
    {{/pref}}
  </tr>
{{/params.jobsrender}}
</table> <table>
  <tr>
    <th class="lhs">Candidates</th>
    <th class="rhs" colspan="7">Jobs</th>    
  </tr>
{{#params.candidatesrender}}
   <tr>
    <td>{{name}}</td>
    {{#preffirst}}
      <td>{{pref_name}}</td>
    {{/preffirst}}

    {{#pref}}
      <td>></td>
      <td>{{pref_name}}</td>
    {{/pref}}
  </tr>
  {{/params.candidatesrender}}
</table>

<br><br><br><br><br><br><br>
<!--

<p>How many days does the algorithm take to run?</p>
<pl-dropdown sort="fixed" answers-name="days_ans" blank="true">
  {{#params.days_ans}}
  <pl-answer correct="{{tag}}">{{ans}}</pl-answer>
  {{/params.days_ans}}
</pl-dropdown>
<p></p>
-->

{{#params.dayresults}}
<div {{display}}>
  <hr>
  <h2>Day {{daynumber}}</h2>
  <br>

  <h3> Proposals </h3>
  {{#proposals}}

  Job {{job}} proposes to:
  <pl-dropdown sort="fixed" answers-name={{name}} blank="true">
    {{#candidates}}
    <pl-answer correct={{proposed}}>{{candidate}}</pl-answer>
    {{/candidates}}
  </pl-dropdown>
  <br>
  {{/proposals}}
  <h3> Rejections </h3>
  {{#rejections}}
  <br>
  Candidate {{candidate}} rejects:
  <br>
  <pl-checkbox hide-letter-keys="true" answers-name={{name}} inline="true" fixed-order="true">
  {{#rejectedjobs}}
  <pl-answer correct={{rejected}}>{{job}}</pl-answer>
  {{/rejectedjobs}}
  {{^rejectedjobs}}
  <p>asdfasdf
    </p>
  {{/rejectedjobs}}
  </pl-checkbox>
  {{/rejections}}
  {{^rejections}}
  <h4>No rejections on this day!</h4>
  {{/rejections}}
</div>
{{/params.dayresults}}





</pl-question-panel>


